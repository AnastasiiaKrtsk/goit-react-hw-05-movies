{"version":3,"file":"static/js/330.e206fc9e.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/Movies-list/Movies-list.module.css?4d76","components/Movies-list/Movies-list.jsx","components/Search-Form/Search-Form.jsx","webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx","services/api.js"],"sourcesContent":["import { MagnifyingGlass } from 'react-loader-spinner';\n\nexport const Loader = () => (\n  <MagnifyingGlass\n    visible={true}\n    height=\"80\"\n    width=\"80\"\n    ariaLabel=\"MagnifyingGlass-loading\"\n    wrapperStyle={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      margin: '0 auto',\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      right: '0',\n      bottom: '0',\n      zIndex: '9999',\n    }}\n    wrapperClass=\"MagnifyingGlass-wrapper\"\n    glassColor=\"#c0efff\"\n    color=\"#949293\"\n  />\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies-list_container__V1w8D\",\"movie-list\":\"Movies-list_movie-list__JQU3v\",\"movie-item\":\"Movies-list_movie-item__WvqCE\",\"movie-link\":\"Movies-list_movie-link__L2WK4\"};","import styles from './Movies-list.module.css';\nimport { useLocation } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul className={styles['movie-list']}>\n      {movies.map(movie => (\n        <li key={movie.id} className={styles['movie-item']}>\n          <Link\n            to={`/movies/${movie.id}`}\n            state={{ from: location }}\n            className={styles['movie-link']}\n          >\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","import React from 'react';\nconst SearchForm = ({ value, onChange }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Movie search</h2>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={e => onChange(e.target.value)}\n        placeholder=\"type here\"\n      />\n    </form>\n  );\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__hb-lD\",\"loader\":\"Movies_loader__UxCxh\",\"search-form\":\"Movies_search-form__VNRp-\",\"movie-list\":\"Movies_movie-list__MbH1t\",\"movie-card\":\"Movies_movie-card__37FSq\"};","import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport MovieList from '../components/Movies-list/Movies-list';\nimport { handleSearch } from '../services/api';\nimport SearchForm from 'components/Search-Form/Search-Form';\nimport { Loader } from 'components/Loader/Loader';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') || '';\n  const [loading, setLoading] = useState(false);\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' && { query };\n    setSearchParams(nextParams);\n  };\n\n  useEffect(() => {\n    const search = async () => {\n      try {\n        setLoading(true);\n        const movies = await handleSearch(movieName);\n        setSearchResults(movies);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    search();\n  }, [movieName]);\n\n  return (\n    <div className={styles.container}>\n      <SearchForm\n        className={styles.searchForm}\n        value={movieName}\n        onChange={updateQueryString}\n      />\n      {loading ? (\n        <Loader />\n      ) : searchResults.length === 0 && movieName ? (\n        <h2>No results</h2>\n      ) : (\n        <div className={styles.movieList}>\n          <MovieList movies={searchResults} />\n        </div>\n      )}\n    </div>\n  );\n};\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = 'c52f4f345a0345192b8a73a62aaa4e80';\n\nconst params = {\n  params: {\n    api_key: KEY,\n    language: 'en-US',\n  },\n};\n//*trending movies request\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`trending/movie/day`, params);\n  return response.data.results;\n};\n\n//*\nexport const getMovieDetails = async movieId => {\n  const response = await axios.get(`/movie/${movieId}`, params);\n  return response.data;\n};\n\nexport const handleSearch = async movieName => {\n  const response = await axios.get(`/search/movie?query=${movieName}`, params);\n  return response.data.results;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits?`, params);\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?`, params);\n  return response.data.results;\n};\n"],"names":["Loader","visible","height","width","ariaLabel","wrapperStyle","display","justifyContent","alignItems","margin","position","top","left","right","bottom","zIndex","wrapperClass","glassColor","color","movies","location","useLocation","className","styles","map","movie","to","id","state","from","title","value","onChange","onSubmit","e","preventDefault","type","target","placeholder","useState","searchResults","setSearchResults","useSearchParams","searchParams","setSearchParams","movieName","get","loading","setLoading","useEffect","search","handleSearch","console","error","query","length","axios","params","api_key","language","getTrendingMovies","response","data","results","getMovieDetails","movieId","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}